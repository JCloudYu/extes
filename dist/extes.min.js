(()=>{"use strict";const[e,t,r,n]=["undefined"!=typeof Buffer&&ArrayBuffer.isView(Buffer),function(e,t=2,r="0"){let n=t-(e=`${e}`).length;for(;n-- >0;)e=r+e;return e},function(e){if("string"!=typeof e)throw new TypeError("Given input argument must be a js string!");let t=[],r=0;for(;r<e.length;){let n=e.codePointAt(r);0==(4294967168&n)?t.push(n):0==(4294965248&n)?t.push(192|31&n>>6,128|63&n):0==(4294901760&n)?t.push(224|15&n>>12,128|63&n>>6,128|63&n):0==(4292870144&n)&&t.push(240|7&n>>18,128|63&n>>12,128|63&n>>6,128|63&n),r+=n>65535?2:1}return new Uint8Array(t)},function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),!(e instanceof Uint8Array))throw new TypeError("Given input must be an Uint8Array contains UTF8 encoded value!");let t=e,r=[],n=0;for(;n<t.length;){let e=255&t[n];0==(128&e)?(r.push(e),n+=1):192==(224&e)?(e=(31&t[n])<<6|63&t[n+1],r.push(e),n+=2):224==(240&e)?(e=(15&t[n])<<12|(63&t[n+1])<<6|63&t[n+2],r.push(e),n+=3):240==(248&e)?(e=(7&t[n])<<18|(63&t[n+1])<<12|(63&t[n+2])<<6|63&t[n+3],r.push(e),n+=4):n+=1}let i="";for(;r.length>0;){const e=r.splice(0,100);i+=String.fromCodePoint(...e)}return i}];Object.defineProperty(Array.prototype,"unique",{writable:!0,configurable:!0,enumerable:!1,value:function(){const e=new Set;for(const t of this)e.add(t);return Array.from(e)}}),Object.defineProperty(Array.prototype,"exclude",{writable:!0,configurable:!0,enumerable:!1,value:function(e){Array.isArray(e)||(e=[e]);const t=[];for(const r of this){let n=!1;for(const t of e)if(r===t){n=n||!0;break}n||t.push(r)}return t}}),(()=>{if("undefined"!=typeof ArrayBuffer){const e=/^(0x)?([0-9a-fA-F]+)$/,t=/^(0b|0B)?([01]+)$/,n="0123456789abcdef",i={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15};Object.defineProperty(ArrayBuffer.prototype,"bytes",{configurable:!0,enumerable:!1,get:function(){return new Uint8Array(this)}}),Object.defineProperty(ArrayBuffer.prototype,"toString",{configurable:!0,writable:!0,enumerable:!1,value:function(e=16,t=!1){const r=new Uint8Array(this);let i="";switch(e){case 16:for(let e=0;e<r.length;e++){const t=r[e];i+=n[(240&t)>>>4]+n[15&t]}break;case 2:for(let e=0;e<r.length;e++){const t=r[e];for(let e=7;e>=0;e--)i+=t>>>e&1?"1":"0"}break;default:throw new RangeError("Unsupported numeric representation!")}return t?i:i.replace(/^0+/,"")}}),Object.defineProperty(ArrayBuffer.prototype,"compare",{configurable:!0,writable:!0,enumerable:!1,value:function(e){if(!(e instanceof ArrayBuffer))throw new TypeError("An ArrayBuffer can only be compared with another ArrayBuffer");const t=new Uint8Array(this),r=new Uint8Array(e),n=Math.max(t.length,r.length);for(let e=0;e<n;e++){const n=t[e]||0,i=r[e]||0;if(n>i)return 1;if(n<i)return-1}return 0}}),Object.defineProperty(ArrayBuffer,"extract",{configurable:!0,writable:!0,enumerable:!1,value:function(e){if("undefined"!=typeof Buffer&&e instanceof Buffer){let t=Buffer.alloc(e.length);return e.copy(t,0),t.buffer}if(ArrayBuffer.isView(e))return e.buffer;if(e instanceof ArrayBuffer)return e;throw new TypeError("Cannot convert given input data into array buffer")}}),Object.defineProperty(ArrayBuffer,"from",{configurable:!0,writable:!0,enumerable:!1,value:function(n,o=null){if("undefined"!=typeof Buffer&&n instanceof Buffer){let e=Buffer.alloc(n.length);return n.copy(e,0),e.buffer}if(ArrayBuffer.isView(n))return n.buffer.slice(0);if(n instanceof ArrayBuffer)return n.slice(0);if(Array.isArray(n)){return new Uint8Array(n).buffer}if("number"==typeof n){let e=null;switch(o){case"int8":e=new Int8Array([n]);break;case"uint8":e=new Uint8Array([n]);break;case"int16":e=new Int16Array([n]);break;case"uint16":e=new Uint16Array([n]);break;case"int32":e=new Int32Array([n]);break;case"int64":{const t=n<0;t&&(n=-n);let r=Math.floor(n/4294967295),i=4294967295&n;t&&(i=1+(~i>>>0),r=~r+Math.floor(i/4294967295)),e=new Uint32Array([i,r]);break}case"uint64":{const t=Math.floor(n/4294967295);e=new Uint32Array([4294967295&n,t]);break}case"float32":e=new Float32Array([n]);break;case"float64":e=new Float64Array([n]);break;case"uint32":default:e=new Uint32Array([n])}return e.buffer}if("string"==typeof n){if("hex"===o){const t=n.match(e);if(!t)throw new RangeError("Input argument is not a valid hex string!");let[,,r]=t;r=r.length%2==0?r.toLowerCase():"0"+r.toLowerCase();const o=new Uint8Array(r.length/2|0);for(let e=0;e<o.length;e++){const t=2*e;o[e]=i[r[t]]<<4|15&i[r[t+1]]}return o.buffer}if("bits"===o){const e=n.match(t);if(!e)throw new RangeError("Input argument is not a valid bit string!");let[,,r]=e;r.length%8!=0&&(r="0".repeat(r.length%8)+r);const i=new Uint8Array(r.length/8|0);for(let e=0;e<i.length;e++){const t=8*e;let n="1"===r[t]?1:0;for(let e=1;e<8;e++)n=n<<1|("1"===r[t+e]?1:0);i[e]=n}return i.buffer}return r(n).buffer}throw new TypeError("Cannot convert given input data into array buffer!")}}),Object.defineProperty(ArrayBuffer,"compare",{configurable:!0,writable:!0,enumerable:!1,value:function(e,t){if(!(e instanceof ArrayBuffer&&t instanceof ArrayBuffer))throw new TypeError("ArrayBuffer.compare only accepts two array buffers!");return e.compare(t)}})}})(),"undefined"!=typeof Blob&&Object.defineProperty(Blob.prototype,"arrayBuffer",{configurable:!0,writable:!0,enumerable:!1,value:function(){return new Promise((e,t)=>{const r=new FileReader;r.onerror=t,r.onload=()=>e(r.result),r.readAsArrayBuffer(this)})}}),Object.defineProperty(Date.prototype,"toLocaleISOString",{writable:!0,configurable:!0,enumerable:!1,value:function(){let e,r=this.getTimezoneOffset();if(0===r)e="Z";else{const n=r>0?"-":"+";r=Math.abs(r);const i=Math.floor(r/60),o=r%60;e=n+t(i)+t(o)}return this.getFullYear()+"-"+t(this.getMonth()+1)+"-"+t(this.getDate())+"T"+t(this.getHours())+":"+t(this.getMinutes())+":"+t(this.getSeconds())+"."+this.getMilliseconds()%1e3+e}}),"undefined"!=typeof Document&&Object.defineProperties(Document.prototype,{parseHTML:{configurable:!0,writable:!0,enumerable:!1,value:function(e){const t=this.implementation.createHTMLDocument().body;if(t.innerHTML=e,0===t.children.length)return null;if(1===t.children.length){const e=t.children[0];return e.remove(),e}const r=Array.prototype.slice.call(t.children,0);for(const e of r)e.remove();return r}}}),(()=>{if("undefined"!=typeof Element){const e=Element.prototype.setAttribute,t=Element.prototype.removeAttribute,r=Element.prototype.setAttributeNS,n=Element.prototype.removeAttributeNS;Object.defineProperties(Element.prototype,{addClass:{configurable:!0,enumerable:!1,writable:!0,value:function(...e){const t=[];for(const r of e)null!=r&&""!==r&&t.push(r);return this.classList.add(...t),this}},removeClass:{configurable:!0,enumerable:!1,writable:!0,value:function(...e){const t=[];for(const r of e)null!=r&&""!==r&&t.push(r);return this.classList.remove(...t),this}},setAttribute:{configurable:!0,enumerable:!1,writable:!0,value:function(t,r){return arguments.length<2&&(r=""),e.call(this,t,r),this}},removeAttribute:{configurable:!0,enumerable:!1,writable:!0,value:function(...e){return t.apply(this,e),this}},setAttributeNS:{configurable:!0,enumerable:!1,writable:!0,value:function(...e){return r.apply(this,e),this}},removeAttributeNS:{configurable:!0,enumerable:!1,writable:!0,value:function(...e){return n.apply(this,e),this}}})}})(),"undefined"!=typeof Error&&Object.defineProperty(Error.prototype,"stack_trace",{get:function(){return this.stack?this.stack.split(/\r\n|\n/g).map(e=>e.trim()):null},enumerable:!1,configurable:!0}),"undefined"!=typeof EventTarget&&(Object.defineProperty(EventTarget.prototype,"on",{configurable:!0,writable:!0,enumerable:!1,value:function(e,t){const r=[],n=e.split(",");for(let e of n)[e]=e.split("#"),e=e.trim(),r.indexOf(e)>=0||(r.push(e),this.addEventListener(e,t));return this}}),Object.defineProperty(EventTarget.prototype,"off",{configurable:!0,writable:!0,enumerable:!1,value:function(e,t){return this.removeEventListener(e,t),this}}),Object.defineProperty(EventTarget.prototype,"emit",{configurable:!0,writable:!0,enumerable:!1,value:function(e){if("string"==typeof e&&(e=new Event(e)),e instanceof Event)throw new TypeError("Argument 1 accepts only string or Event instance!");this.dispatchEvent(e)}})),(()=>{function e(e,...t){Array.isArray(t[0])&&(t=t[0]);const r=[];let n=e;for(const e of t)"function"==typeof e&&(n=n||"AsyncFunction"===e.constructor.name,r.push(e));const i={};return function(...e){let t=!1;const o=e.slice(0),a={};if(Object.defineProperties(a,{singleton:{value:i,configurable:!1,writable:!1,enumerable:!1},stop:{value:()=>{t=!0},configurable:!1,writable:!1,enumerable:!1}}),n)return Promise.resolve().then(async()=>{let e=void 0;for(const n of r){if(e=await n.call(a,...o),t)break;o.splice(0,o.length,e)}return e});let u=void 0;for(const e of r){if(u=e.call(a,...o),t)break;o.splice(0,o.length,u)}return u}}Object.defineProperty(Function,"sequentialExecutor",{configurable:!0,writable:!0,enumerable:!1,value:e.bind(null,!1)}),Object.defineProperty(Function.sequentialExecutor,"async",{configurable:!0,writable:!0,enumerable:!1,value:e.bind(null,!0)})})(),"undefined"!=typeof HTMLElement&&Object.defineProperties(HTMLElement.prototype,{setData:{configurable:!0,writable:!0,enumerable:!1,value:function(e,t){if(Object(e)===e)for(const t in e)this.dataset[t]=e[t];else this.dataset[e]=t;return this}},getData:{configurable:!0,writable:!0,enumerable:!1,value:function(e){return this.dataset[e]}},removeData:{configurable:!0,writable:!0,enumerable:!1,value:function(...e){for(const t of e)delete this.dataset[t];return this}},setContentHtml:{configurable:!0,writable:!0,enumerable:!1,value:function(e){return this.innerHTML=e,this}}}),"undefined"!=typeof HTMLInputElement&&Object.defineProperty(HTMLInputElement.prototype,"setValue",{configurable:!0,writable:!0,enumerable:!1,value:function(e){return this.value=e,this}}),"undefined"!=typeof Node&&(Object.defineProperty(Node.prototype,"prependChild",{configurable:!0,writable:!0,enumerable:!1,value:function(e){return this.insertBefore(e,this.children[0]||null),this instanceof DocumentFragment?new DocumentFragment:e}}),Object.defineProperty(Node.prototype,"insertNeighborBefore",{configurable:!0,writable:!0,enumerable:!1,value:function(e){if(!this.parentNode)throw new RangeError("Reference element is currently in detached mode! No way to add neighbors!");return this.parentNode.insertBefore(e,this),this instanceof DocumentFragment?new DocumentFragment:e}}),Object.defineProperty(Node.prototype,"insertNeighborAfter",{configurable:!0,writable:!0,enumerable:!1,value:function(e){if(!this.parentNode)throw new RangeError("Reference element is currently in detached mode! No way to add neighbors!");return this.parentNode.insertBefore(e,this.nextSibling),this instanceof DocumentFragment?new DocumentFragment:e}}),Object.defineProperty(Node.prototype,"setContentText",{configurable:!0,writable:!0,enumerable:!1,value:function(e){return this.textContent=e,this}}),Object.defineProperty(Node.prototype,"process",{configurable:!0,writable:!0,enumerable:!1,value:function(e,...t){return"function"==typeof e&&e.call(this,...t),this}})),(()=>{const e=Object.defineProperty,t=Object.defineProperties;function r(t,r,n={configurable:!0,enumerable:!1,writable:!0}){const i=!!n.configurable,o=!!n.enumerable,a=!!n.writable;for(const n in r){const u=r[n];void 0!==r[n]&&e(t,n,{value:u,configurable:i,enumerable:o,writable:a})}return t}function n(e,t=!1){const r=typeof e;switch(r){case"number":case"string":case"function":case"boolean":case"undefined":case"symbol":return r}return null===e?"null":e instanceof String?"string":e instanceof Number?"number":e instanceof Boolean?"boolean":Array.isArray(e)?"array":t?e instanceof ArrayBuffer?"array-buffer":e instanceof DataView?"data-view":e instanceof Uint8Array?"uint8-array":e instanceof Uint8ClampedArray?"uint8-clamped-array":e instanceof Int8Array?"int8-array":e instanceof Uint16Array?"uint16-array":e instanceof Int16Array?"int16-array":e instanceof Uint32Array?"uint32-array":e instanceof Int32Array?"int32-array":e instanceof Float32Array?"float32-array":e instanceof Float64Array?"float64-array":e instanceof Map?"map":e instanceof WeakMap?"weak-map":e instanceof Set?"set":e instanceof WeakSet?"weak-set":e instanceof RegExp?"regexp":e instanceof Promise?"promise":"object":"object"}e(Object,"defineProperty",{writable:!0,configurable:!0,enumerable:!1,value:function(t,r,n){return e(t,r,n),t}}),e(Object,"defineProperties",{writable:!0,configurable:!0,enumerable:!1,value:function(e,r){return t(e,r),e}}),Object.defineProperty(Object,"assignProperties",{writable:!0,configurable:!0,enumerable:!1,value:function(t,r,n={configurable:!0,enumerable:!1,writable:!0}){const i=!!n.configurable,o=!!n.enumerable,a=!!n.writable;for(const n in r){const u=r[n];if(Object(u)!==u)continue;const l=u.get||u.set,f=u.value||u.writable;if(l&&f)throw new SyntaxError("A property descriptor can be either an accessor descriptor or a data descriptor");e(t,n,l?{get:u.get,set:u.set,configurable:void 0===u.configurable?i:!!u.configurable,enumerable:void 0===u.enumerable?o:!!u.enumerable}:{value:u.value,configurable:void 0===u.configurable?i:!!u.configurable,enumerable:void 0===u.enumerable?o:!!u.enumerable,writable:void 0===u.writable?a:!!u.writable})}return t}}),Object.defineProperty(Object,"assignValues",{writable:!0,configurable:!0,enumerable:!1,value:r}),Object.defineProperty(Object,"assignConstants",{writable:!0,configurable:!0,enumerable:!1,value:(e,t,n=!1)=>r(e,t,{configurable:!1,writable:!1,enumerable:n})}),Object.defineProperty(Object,"merge",{writable:!0,configurable:!0,enumerable:!1,value:function e(t,r){if(Object(t)!==t)throw new Error("Given target is not an object");if(Object(r)!==r)throw new Error("Given source is not an object");for(const i in r){if(r.hasOwnProperty&&!r.hasOwnProperty(i)||void 0===r[i])continue;const o=t[i],a=r[i],u=n(o),l=n(a);"object"===u&&"object"===l?e(o,a):t instanceof Map?t.set(i,a):t[i]=a}return t}}),Object.defineProperty(Object,"generate",{writable:!0,configurable:!0,enumerable:!1,value:function(e,t=null){const r=Object.create(t);Object(e)===e&&Object.assign(r,e);return r}}),Object.defineProperty(Object,"typeOf",{writable:!0,configurable:!0,enumerable:!1,value:n}),Object.defineProperty(Object.prototype,"_decorate",{writable:!0,configurable:!0,enumerable:!1,value:function(e,...t){return"function"==typeof e&&e.call(this,...t),this}})})(),(()=>{const t=Promise.prototype.then,r=Promise.prototype.catch,n=Promise.prototype.finally;function i(e,t){for(const r of Object.keys(t))"_prev"!==r&&(e[r]=t[r]);return Object.defineProperty(e,"_prev",{value:t,configurable:!0,enumerable:!1,writable:!0}),e}Object.defineProperties(Promise.prototype,{then:{writable:!0,configurable:!0,enumerable:!1,value:function(...e){return i(t.call(this,...e),this)}},catch:{writable:!0,configurable:!0,enumerable:!1,value:function(...e){return i(r.call(this,...e),this)}},finally:{writable:!0,configurable:!0,enumerable:!1,value:function(...e){return i(n.call(this,...e),this)}},guard:{writable:!0,configurable:!0,enumerable:!1,value:function(){return i(r.call(this,t=>(setTimeout(()=>{if(e)throw t;{const e=new Event("unhandledRejection");e.error=t,window.dispatchEvent(e)}},0),t)),this)}}}),Object.defineProperties(Promise,{wait:{writable:!0,configurable:!0,enumerable:!1,value:function(e=[]){Array.isArray(e)||(e=[e]);if(0===e.length)return Promise.resolve([]);return new Promise((t,r)=>{let n=[],i=0,o=!0;for(let a=0;a<e.length;a++){let u={resolved:!0,seq:a,result:null};n.push(u),Promise.resolve(e[a]).then(e=>{o=(u.resolved=!0)&&o,u.result=e},e=>{o=(u.resolved=!1)&&o,u.result=e}).then(()=>{i++,e.length===i&&(o?t:r)(n)})}})}},create:{writable:!0,configurable:!0,enumerable:!1,value:function(){let e=null,t=null;const r=new Promise((r,n)=>{e=r,t=n});return r.resolve=e,r.reject=t,r.promise=r,r}}})})(),(()=>{const e=/(\w)(\w*)(\W*)/g,t=(e,t,r,n,i,o)=>`${t.toUpperCase()}${r.toLowerCase()}${n}`;function r(e,...t){return this instanceof r?(this.strings=e,void(this.fields=t)):new r(e,...t)}r.prototype={[Symbol.iterator](){const e=this.strings.slice(0).reverse(),t=this.fields.slice(0).reverse();let r=0;return{next:()=>{if(0===e.length)return{done:!0};let n;return n=r%2==0?e.pop():t.pop(),r+=1,{value:n}}}},toString(){let e="";for(const t of this)e+=""+t;return e}},Object.defineProperties(String.prototype,{upperCase:{configurable:!0,enumerable:!1,get:function(){return this.toUpperCase()}},localeUpperCase:{configurable:!0,enumerable:!1,get:function(){return this.toLocaleUpperCase()}},lowerCase:{configurable:!0,enumerable:!1,get:function(){return this.toLowerCase()}},localeLowerCase:{configurable:!0,enumerable:!1,get:function(){return this.toLocaleLowerCase()}},toCamelCase:{configurable:!0,enumerable:!1,value:function(){return this.replace(e,t)}},camelCase:{configurable:!0,enumerable:!1,get:function(){return this.replace(e,t)}},pop:{configurable:!0,enumerable:!1,writable:!0,value:function(e=""){if("string"!=typeof e)throw new TypeError("Given token must be a string");if(""===this)return["",""];if(""===e)return[this[0],this.substring(1)];const t=this.indexOf(e,e.length);return t<0?[this.substring(0),""]:[this.substring(0,t),this.substring(t)]}},shift:{configurable:!0,enumerable:!1,writable:!0,value:function(e=""){if("string"!=typeof e)throw new TypeError("Given token must be a string");const t=this.length;if(0===t)return["",""];if(""===e)return[this.substring(0,t-1),this[t-1]];const r=this.lastIndexOf(e);return r<0?["",this.substring(0)]:[this.substring(0,r),this.substring(r)]}}}),Object.defineProperties(String,{encodeRegExpString:{writable:!0,configurable:!0,enumerable:!1,value:function(e=""){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},stringTemplate:{writable:!0,configurable:!0,enumerable:!1,value:r}})})(),(()=>{function e(){let e=null,t=!1,r=null;const n=(n,i=0,...o)=>{e={cb:n,delay:i,args:o},t||(r&&(clearTimeout(r),r=null),function n(){if(!e)return;let{cb:i,delay:o,args:a}=e;r=setTimeout(()=>{t=!0,Promise.resolve(i(...a)).then(()=>{t=!1,r=null,n()},n=>{throw t=!1,r=null,e=null,n})},o),e=null}())};return n.clear=()=>{e=null,r&&(clearTimeout(r),r=null)},n}Object.defineProperty(setTimeout,"create",{writable:!0,configurable:!0,enumerable:!1,value:e}),Object.defineProperty(setTimeout,"idle",{writable:!0,configurable:!0,enumerable:!1,value:function(e=0){return new Promise(t=>{setTimeout(t,e)})}}),Object.defineProperty(setInterval,"create",{writable:!0,configurable:!0,enumerable:!1,value:function(){const t=e(),r=(e,r=0,...n)=>{const i=async()=>{t(i,r);try{await e(...n)}catch(e){throw t.clear(),e}};t(i,r,...n)};return r.clear=()=>{t.clear()},r}})})()})();
