(()=>{"use strict";const[e,t,r,n]=["undefined"!=typeof Buffer&&ArrayBuffer.isView(Buffer),function(e,t=2,r="0"){let n=t-(e=`${e}`).length;for(;n-- >0;)e=r+e;return e},function(e){if("string"!=typeof e)throw new TypeError("Given input argument must be a js string!");let t=[],r=0;for(;r<e.length;){let n=e.codePointAt(r);0==(4294967168&n)?t.push(n):0==(4294965248&n)?t.push(192|31&n>>6,128|63&n):0==(4294901760&n)?t.push(224|15&n>>12,128|63&n>>6,128|63&n):0==(4292870144&n)&&t.push(240|7&n>>18,128|63&n>>12,128|63&n>>6,128|63&n),r+=n>65535?2:1}return new Uint8Array(t)},function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),!(e instanceof Uint8Array))throw new TypeError("Given input must be an Uint8Array contains UTF8 encoded value!");let t=e,r=[],n=0;for(;n<t.length;){let e=255&t[n];0==(128&e)?(r.push(e),n+=1):192==(224&e)?(e=(31&t[n])<<6|63&t[n+1],r.push(e),n+=2):224==(240&e)?(e=(15&t[n])<<12|(63&t[n+1])<<6|63&t[n+2],r.push(e),n+=3):240==(248&e)?(e=(7&t[n])<<18|(63&t[n+1])<<12|(63&t[n+2])<<6|63&t[n+3],r.push(e),n+=4):n+=1}let a="";for(;r.length>0;){const e=r.splice(0,100);a+=String.fromCodePoint(...e)}return a}];Object.defineProperty(Array.prototype,"unique",{writable:!0,configurable:!0,enumerable:!1,value:function(){const e=new Set;for(const t of this)e.add(t);return Array.from(e)}}),Object.defineProperty(Array.prototype,"exclude",{writable:!0,configurable:!0,enumerable:!1,value:function(e){Array.isArray(e)||(e=[e]);const t=[];for(const r of this){let n=!1;for(const t of e)if(r===t){n=n||!0;break}n||t.push(r)}return t}}),(()=>{if("undefined"!=typeof ArrayBuffer){const e=/^(0x)?([0-9a-fA-F]+)$/,t=/^(0b|0B)?([01]+)$/,n="0123456789abcdef",a={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15};Object.defineProperty(ArrayBuffer.prototype,"bytes",{configurable:!0,enumerable:!1,get:function(){return new Uint8Array(this)}}),Object.defineProperty(ArrayBuffer.prototype,"toString",{configurable:!0,writable:!0,enumerable:!1,value:function(e=16,t=!1){const r=new Uint8Array(this);let a="";switch(e){case 16:for(let e=0;e<r.length;e++){const t=r[e];a+=n[(240&t)>>>4]+n[15&t]}break;case 2:for(let e=0;e<r.length;e++){const t=r[e];for(let e=7;e>=0;e--)a+=t>>>e&1?"1":"0"}break;default:throw new RangeError("Unsupported numeric representation!")}return t?a:a.replace(/^0+/,"")}}),Object.defineProperty(ArrayBuffer.prototype,"compare",{configurable:!0,writable:!0,enumerable:!1,value:function(e){if(!(e instanceof ArrayBuffer))throw new TypeError("An ArrayBuffer can only be compared with another ArrayBuffer");const t=new Uint8Array(this),r=new Uint8Array(e),n=Math.max(t.length,r.length);for(let e=0;e<n;e++){const n=t[e]||0,a=r[e]||0;if(n>a)return 1;if(n<a)return-1}return 0}}),Object.defineProperty(ArrayBuffer,"extract",{configurable:!0,writable:!0,enumerable:!1,value:function(e){if("undefined"!=typeof Buffer&&e instanceof Buffer){let t=Buffer.alloc(e.length);return e.copy(t,0),t.buffer}if(ArrayBuffer.isView(e))return e.buffer;if(e instanceof ArrayBuffer)return e;throw new TypeError("Cannot convert given input data into array buffer")}}),Object.defineProperty(ArrayBuffer,"from",{configurable:!0,writable:!0,enumerable:!1,value:function(n,o=null){if("undefined"!=typeof Buffer&&n instanceof Buffer){let e=Buffer.alloc(n.length);return n.copy(e,0),e.buffer}if(ArrayBuffer.isView(n))return n.buffer.slice(0);if(n instanceof ArrayBuffer)return n.slice(0);if(Array.isArray(n)){return new Uint8Array(n).buffer}if("number"==typeof n){let e=null;switch(o){case"int8":e=new Int8Array([n]);break;case"uint8":e=new Uint8Array([n]);break;case"int16":e=new Int16Array([n]);break;case"uint16":e=new Uint16Array([n]);break;case"int32":e=new Int32Array([n]);break;case"int64":{const t=n<0;t&&(n=-n);let r=Math.floor(n/4294967295),a=4294967295&n;t&&(a=1+(~a>>>0),r=~r+Math.floor(a/4294967295)),e=new Uint32Array([a,r]);break}case"uint64":{const t=Math.floor(n/4294967295);e=new Uint32Array([4294967295&n,t]);break}case"float32":e=new Float32Array([n]);break;case"float64":e=new Float64Array([n]);break;case"uint32":default:e=new Uint32Array([n])}return e.buffer}if("string"==typeof n){if("hex"===o){const t=n.match(e);if(!t)throw new RangeError("Input argument is not a valid hex string!");let[,,r]=t;r=r.length%2==0?r.toLowerCase():"0"+r.toLowerCase();const o=new Uint8Array(r.length/2|0);for(let e=0;e<o.length;e++){const t=2*e;o[e]=a[r[t]]<<4|15&a[r[t+1]]}return o.buffer}if("bits"===o){const e=n.match(t);if(!e)throw new RangeError("Input argument is not a valid bit string!");let[,,r]=e;r.length%8!=0&&(r="0".repeat(r.length%8)+r);const a=new Uint8Array(r.length/8|0);for(let e=0;e<a.length;e++){const t=8*e;let n="1"===r[t]?1:0;for(let e=1;e<8;e++)n=n<<1|("1"===r[t+e]?1:0);a[e]=n}return a.buffer}return r(n).buffer}throw new TypeError("Cannot convert given input data into array buffer!")}}),Object.defineProperty(ArrayBuffer,"compare",{configurable:!0,writable:!0,enumerable:!1,value:function(e,t){if(!(e instanceof ArrayBuffer&&t instanceof ArrayBuffer))throw new TypeError("ArrayBuffer.compare only accepts two array buffers!");return e.compare(t)}})}})(),"undefined"!=typeof Blob&&Object.defineProperty(Blob.prototype,"arrayBuffer",{configurable:!0,writable:!0,enumerable:!1,value:function(){return new Promise((e,t)=>{const r=new FileReader;r.onerror=t,r.onload=()=>e(r.result),r.readAsArrayBuffer(this)})}}),Object.defineProperty(Date.prototype,"toLocaleISOString",{writable:!0,configurable:!0,enumerable:!1,value:function(){let e,r=this.getTimezoneOffset();if(0===r)e="Z";else{const n=r>0?"-":"+";r=Math.abs(r);const a=Math.floor(r/60),o=r%60;e=n+t(a)+t(o)}return this.getFullYear()+"-"+t(this.getMonth()+1)+"-"+t(this.getDate())+"T"+t(this.getHours())+":"+t(this.getMinutes())+":"+t(this.getSeconds())+"."+this.getMilliseconds()%1e3+e}}),"undefined"!=typeof Document&&Object.defineProperties(Document.prototype,{parseHTML:{configurable:!0,writable:!0,enumerable:!1,value:function(e){const t=this.implementation.createHTMLDocument().body;if(t.innerHTML=e,0===t.children.length)return null;if(1===t.children.length){const e=t.children[0];return e.remove(),e}const r=Array.prototype.slice.call(t.children,0);for(const e of r)e.remove();return r}}}),(()=>{if("undefined"!=typeof Element){const e=Element.prototype.setAttribute,t=Element.prototype.removeAttribute,r=Element.prototype.setAttributeNS,n=Element.prototype.removeAttributeNS;Object.defineProperties(Element.prototype,{addClass:{configurable:!0,enumerable:!1,writable:!0,value:function(...e){const t=[];for(const r of e)null!=r&&""!==r&&t.push(r);return this.classList.add(...t),this}},removeClass:{configurable:!0,enumerable:!1,writable:!0,value:function(...e){const t=[];for(const r of e)null!=r&&""!==r&&t.push(r);return this.classList.remove(...t),this}},setAttribute:{configurable:!0,enumerable:!1,writable:!0,value:function(t,r){return arguments.length<2&&(r=""),e.call(this,t,r),this}},removeAttribute:{configurable:!0,enumerable:!1,writable:!0,value:function(...e){return t.apply(this,e),this}},setAttributeNS:{configurable:!0,enumerable:!1,writable:!0,value:function(...e){return r.apply(this,e),this}},removeAttributeNS:{configurable:!0,enumerable:!1,writable:!0,value:function(...e){return n.apply(this,e),this}}})}})(),"undefined"!=typeof Error&&Object.defineProperty(Error.prototype,"stack_trace",{get:function(){return this.stack?this.stack.split(/\r\n|\n/g).map(e=>e.trim()):null},enumerable:!1,configurable:!0}),"undefined"!=typeof EventTarget&&(Object.defineProperty(EventTarget.prototype,"on",{configurable:!0,writable:!0,enumerable:!1,value:function(e,t){const r=[],n=e.split(",");for(let e of n)[e]=e.split("#"),e=e.trim(),r.indexOf(e)>=0||(r.push(e),this.addEventListener(e,t));return this}}),Object.defineProperty(EventTarget.prototype,"off",{configurable:!0,writable:!0,enumerable:!1,value:function(e,t){return this.removeEventListener(e,t),this}}),Object.defineProperty(EventTarget.prototype,"emit",{configurable:!0,writable:!0,enumerable:!1,value:function(e){if("string"==typeof e&&(e=new Event(e)),e instanceof Event)throw new TypeError("Argument 1 accepts only string or Event instance!");this.dispatchEvent(e)}})),"undefined"!=typeof HTMLElement&&Object.defineProperties(HTMLElement.prototype,{setData:{configurable:!0,writable:!0,enumerable:!1,value:function(e,t){if(Object(e)===e)for(const t in e)this.dataset[t]=e[t];else this.dataset[e]=t;return this}},getData:{configurable:!0,writable:!0,enumerable:!1,value:function(e){return this.dataset[e]}},removeData:{configurable:!0,writable:!0,enumerable:!1,value:function(...e){for(const t of e)delete this.dataset[t];return this}},setContentHtml:{configurable:!0,writable:!0,enumerable:!1,value:function(e){return this.innerHTML=e,this}}}),"undefined"!=typeof HTMLInputElement&&Object.defineProperty(HTMLInputElement.prototype,"setValue",{configurable:!0,writable:!0,enumerable:!1,value:function(e){return this.value=e,this}}),"undefined"!=typeof Node&&(Object.defineProperty(Node.prototype,"prependChild",{configurable:!0,writable:!0,enumerable:!1,value:function(e){return this.insertBefore(e,this.children[0]||null),this instanceof DocumentFragment?new DocumentFragment:e}}),Object.defineProperty(Node.prototype,"insertNeighborBefore",{configurable:!0,writable:!0,enumerable:!1,value:function(e){if(!this.parentNode)throw new RangeError("Reference element is currently in detached mode! No way to add neighbors!");return this.parentNode.insertBefore(e,this),this instanceof DocumentFragment?new DocumentFragment:e}}),Object.defineProperty(Node.prototype,"insertNeighborAfter",{configurable:!0,writable:!0,enumerable:!1,value:function(e){if(!this.parentNode)throw new RangeError("Reference element is currently in detached mode! No way to add neighbors!");return this.parentNode.insertBefore(e,this.nextSibling),this instanceof DocumentFragment?new DocumentFragment:e}}),Object.defineProperty(Node.prototype,"setContentText",{configurable:!0,writable:!0,enumerable:!1,value:function(e){return this.textContent=e,this}}),Object.defineProperty(Node.prototype,"process",{configurable:!0,writable:!0,enumerable:!1,value:function(e,...t){return"function"==typeof e&&e.call(this,...t),this}})),(()=>{const e=Object.defineProperty,t=Object.defineProperties;function r(t,r,n={configurable:!0,enumerable:!1,writable:!0}){const a=!!n.configurable,o=!!n.enumerable,i=!!n.writable;for(const n in r){const u=r[n];void 0!==r[n]&&e(t,n,{value:u,configurable:a,enumerable:o,writable:i})}return t}function n(e,t=!1){const r=typeof e;switch(r){case"number":case"string":case"function":case"boolean":case"undefined":case"symbol":return r}return null===e?"null":e instanceof String?"string":e instanceof Number?"number":e instanceof Boolean?"boolean":Array.isArray(e)?"array":t?e instanceof ArrayBuffer?"array-buffer":e instanceof DataView?"data-view":e instanceof Uint8Array?"uint8-array":e instanceof Uint8ClampedArray?"uint8-clamped-array":e instanceof Int8Array?"int8-array":e instanceof Uint16Array?"uint16-array":e instanceof Int16Array?"int16-array":e instanceof Uint32Array?"uint32-array":e instanceof Int32Array?"int32-array":e instanceof Float32Array?"float32-array":e instanceof Float64Array?"float64-array":e instanceof Map?"map":e instanceof WeakMap?"weak-map":e instanceof Set?"set":e instanceof WeakSet?"weak-set":e instanceof RegExp?"regexp":e instanceof Promise?"promise":"object":"object"}e(Object,"defineProperty",{writable:!0,configurable:!0,enumerable:!1,value:function(t,r,n){return e(t,r,n),t}}),e(Object,"defineProperties",{writable:!0,configurable:!0,enumerable:!1,value:function(e,r){return t(e,r),e}}),Object.defineProperty(Object,"assignProperties",{writable:!0,configurable:!0,enumerable:!1,value:function(t,r,n={configurable:!0,enumerable:!1,writable:!0}){const a=!!n.configurable,o=!!n.enumerable,i=!!n.writable;for(const n in r){const u=r[n];if(Object(u)!==u)continue;const l=u.get||u.set,f=u.value||u.writable;if(l&&f)throw new SyntaxError("A property descriptor can be either an accessor descriptor or a data descriptor");e(t,n,l?{get:u.get,set:u.set,configurable:void 0===u.configurable?a:!!u.configurable,enumerable:void 0===u.enumerable?o:!!u.enumerable}:{value:u.value,configurable:void 0===u.configurable?a:!!u.configurable,enumerable:void 0===u.enumerable?o:!!u.enumerable,writable:void 0===u.writable?i:!!u.writable})}return t}}),Object.defineProperty(Object,"assignValues",{writable:!0,configurable:!0,enumerable:!1,value:r}),Object.defineProperty(Object,"assignConstants",{writable:!0,configurable:!0,enumerable:!1,value:(e,t,n=!1)=>r(e,t,{configurable:!1,writable:!1,enumerable:n})}),Object.defineProperty(Object,"merge",{writable:!0,configurable:!0,enumerable:!1,value:function e(t,r){if(Object(t)!==t)throw new Error("Given target is not an object");if(Object(r)!==r)throw new Error("Given source is not an object");for(const a in r){if(r.hasOwnProperty&&!r.hasOwnProperty(a)||void 0===r[a])continue;const o=t[a],i=r[a],u=n(o),l=n(i);"object"===u&&"object"===l?e(o,i):t instanceof Map?t.set(a,i):t[a]=i}return t}}),Object.defineProperty(Object,"generate",{writable:!0,configurable:!0,enumerable:!1,value:function(e,t=null){const r=Object.create(t);Object(e)===e&&Object.assign(r,e);return r}}),Object.defineProperty(Object,"typeOf",{writable:!0,configurable:!0,enumerable:!1,value:n}),Object.defineProperty(Object.prototype,"_decorate",{writable:!0,configurable:!0,enumerable:!1,value:function(e,...t){return"function"==typeof e&&e.call(this,...t),this}})})(),(()=>{const t=Promise.prototype.then,r=Promise.prototype.catch,n=Promise.prototype.finally;function a(e,t){for(const r of Object.keys(t))"_prev"!==r&&(e[r]=t[r]);return Object.defineProperty(e,"_prev",{value:t,configurable:!0,enumerable:!1,writable:!0}),e}Object.defineProperties(Promise.prototype,{then:{writable:!0,configurable:!0,enumerable:!1,value:function(...e){return a(t.call(this,...e),this)}},catch:{writable:!0,configurable:!0,enumerable:!1,value:function(...e){return a(r.call(this,...e),this)}},finally:{writable:!0,configurable:!0,enumerable:!1,value:function(...e){return a(n.call(this,...e),this)}},guard:{writable:!0,configurable:!0,enumerable:!1,value:function(){return a(r.call(this,t=>(setTimeout(()=>{if(e)throw t;{const e=new Event("unhandledRejection");e.error=t,window.dispatchEvent(e)}},0),t)),this)}}}),Object.defineProperties(Promise,{wait:{writable:!0,configurable:!0,enumerable:!1,value:function(e=[]){Array.isArray(e)||(e=[e]);if(0===e.length)return Promise.resolve([]);return new Promise((t,r)=>{let n=[],a=0,o=!0;for(let i=0;i<e.length;i++){let u={resolved:!0,seq:i,result:null};n.push(u),Promise.resolve(e[i]).then(e=>{o=(u.resolved=!0)&&o,u.result=e},e=>{o=(u.resolved=!1)&&o,u.result=e}).then(()=>{a++,e.length===a&&(o?t:r)(n)})}})}},create:{writable:!0,configurable:!0,enumerable:!1,value:function(){let e=null,t=null;const r=new Promise((r,n)=>{e=r,t=n});return r.resolve=e,r.reject=t,r.promise=r,r}}})})(),Object.defineProperty(Function,"encapsulate",{configurable:!0,writable:!0,enumerable:!1,value:function(...e){Array.isArray(e[0])&&(e=e[0]);const t=[];for(const r of e)"function"==typeof r&&t.push(r);const r=function(...e){let r=!1;const n={},a=e.slice(0),o={};Object.defineProperties(o,{state:{get:()=>n,configurable:!1,enumerable:!0},stop:{value:()=>{r=!0},configurable:!1,writable:!1,enumerable:!0}});let i=void 0;for(const e of t){if(i=e.call(o,...a),r)break;a.splice(0,a.length,i)}return i};return Object.defineProperties(r,{async:{value:async function(...e){let r=!1;const n={},a=e.slice(0),o={};Object.defineProperties(o,{state:{get:()=>n,configurable:!1,enumerable:!0},stop:{value:()=>{r=!0},configurable:!1,writable:!1,enumerable:!0}});let i=void 0;for(const e of t){if(i=await e.call(o,...a),r)break;a.splice(0,a.length,i)}return i},configurable:!1,writable:!1,enumerable:!0}}),r}})})();
